<div class="topic-title">
    <svg class="bg-topic-title" xmlns="http://www.w3.org/2000/svg" width="380px" height="100px" viewBox="0 0 380 100">
      <polygon points="0,0 0,70 200,70 380,0 "/>
    </svg>
    <div class="title-name">
        <h1>Dashboard</h1>
    </div>
  </div> 
 <!--<div class="container">-->
 
   <!-- <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Dashboard</h1>
                </div>
                 
     </div> -->
			<div class="grid-container">
			
	<div class="row">
	    <div class="col-lg-3 col-md-6">
			<div class="panel panel-primary button" (click)="clickToTemplates()">
			
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-3">
							<i class="fa fa-list fa-5x" aria-hidden="true"></i>
						</div>
						<div class="col-xs-9 text-right">
							<div class="huge">{{countAvailableTemplates}}<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span></div>
							<div>Template Store </div>
						
							
						</div>
					</div>
				</div>
				
				   <div class="panel-footer" (click)="clickNewTemplate()">
						<span class="pull-left" *ngIf="currentRoleAdmin">Design New Template</span>
						<span class="pull-right" *ngIf="currentRoleAdmin"><i class="fa fa-arrow-circle-right fa-2x"></i></span>
						<div class="clearfix"></div>
					</div>
			</div>
		</div>
<!--		<div class="col-lg-3 col-md-6">
			<div class="panel panel-yellow" (click)="clickToChecklists()">
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-3">
							<i class="fa fa-list fa-5x" aria-hidden="true"></i>
						</div>
						<div class="col-xs-9 text-right">
							<div class="huge">{{countAvailableChecklists}}<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span></div>
							<div>Checklists Available </div>
							
						</div>
					</div>
				</div>
				
				   <div class="panel-footer" (click)="clickNewChecklist()">
						<span class="pull-left">New Checklist</span>
						<span class="pull-right"><i class="fa fa-arrow-circle-right fa-2x"></i></span>
						<div class="clearfix"></div>
					</div>
			</div>
		</div> -->
		<!--<div class="col-lg-3 col-md-6">
			<div class="panel panel-green button" (click)="clickToOpen()">
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-3">
							<i class="fa fa-folder-open fa-5x" aria-hidden="true"></i>
						</div>
						<div class="col-xs-9 text-right">
							<div class="huge">{{countOpenTemplates}}<i class="fa fa-arrow-circle-right"></i></div>
							<div>Open Checklists</div>
						</div>
					</div>
				</div>
				
              <div class="panel-footer" (click)="clickNewChecklist()" >
						<span class="pull-left">Create New Checklist</span>
						<span class="pull-right"><i class="fa fa-arrow-circle-right fa-2x"></i></span>
						<div class="clearfix"></div>
				  
				
			</div>
			</div>
		</div>-->
		<div class="col-lg-3 col-md-6">
			<div class="panel panel-green button" (click)="clickToOpenSurveys()">
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-3">
							<i class="fa fa-folder-open fa-5x" aria-hidden="true"></i>
						</div>
						<div class="col-xs-9 text-right">
							<div class="huge">{{countOpenSurveys}}<i class="fa fa-arrow-circle-right"></i></div>
							<div>Open Surveys</div>
						</div>
					</div>
				</div>
				
              <div class="panel-footer" (click)="clickNewSurvey()" >
						<span class="pull-left">Create New Survey</span>
						<span class="pull-right"><i class="fa fa-arrow-circle-right fa-2x"></i></span>
						<div class="clearfix"></div>
				  
				
			</div>
			</div>
		</div>  
		<div class="col-lg-3 col-md-6">
			<div class="panel panel-red button" (click)="clickToClosed()">
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-3">
							<i class="fa fa-times-circle fa-5x" aria-hidden="true"></i>
						</div>
						<div class="col-xs-9 text-right">
							<div class="huge">{{countClosedTemplates}}<span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span></div>
							<div>Closed Surveys</div>
						</div>
					</div>
				</div>
				
                   <div class="panel-footer">
						<span class="pull-left" *ngIf="currentRoleAdmin"></span>
						<span class="pull-right" *ngIf="currentRoleAdmin"><i class="fa fa-arrow-circle-right fa-2x"></i></span>
						<div class="clearfix"></div>
					</div>
				
			</div>
		</div>
		

		<div class="col-lg-3 col-md-6">
			<div class="panel panel-yellow button" (click)="clickToReport()">
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-3">
							<i class="fa fa-arrow-up fa-5x"></i>
						</div>
						<div class="col-xs-9 text-right">
							<div class="huge"></div>
							<div>Report</div>
						</div>
					</div>
				</div>
				
					<div class="panel-footer">
						<span class="pull-left" *ngIf="currentRoleAdmin">View Details</span>
						<span class="pull-right" *ngIf="currentRoleAdmin"><i class="fa fa-arrow-circle-right fa-2x"></i></span>
						<div class="clearfix"></div>
					</div>
			   
			</div>
		</div>
	</div>

	<div class="row">
		<div class="tab blue">
		 <!-- OPEN CHECKLISTS -->
		 <div class="row table-heading-theme" align="center">
		  <label for="tab-four"><h3>{{heading}}</h3></label>
		  
		  </div>
		  <div class="tab-content" *ngIf ="isOpenChecklists" >
			<!--<table class="table table-striped" [mfData]="showArray" #mf="mfDataTable" [mfRowsOnPage]="5"> -->
			 <table class="table table-striped" [mfData]="showArray | dataFilter : filterQuery" #mf="mfDataTable"
                   [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
  
						<thead>
						
						
						<tr>
							<th style="width: 5%" class="text-center">
								<mfDefaultSorter by="email"></mfDefaultSorter>
							</th>
							<th style="width: 20%" class="text-center">
								<mfDefaultSorter by="templateName">Checklist Name</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Completed</mfDefaultSorter>
							</th>
							<th style="width: 5%" class="text-center">
								<mfDefaultSorter by="ownerId">OwnerId</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="template.createdAt">Started Date</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="template.updatedAt">Modified Date</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Template Version</mfDefaultSorter>
							</th>
							<th style="width: 30%" class="text-center">
								<mfDefaultSorter by="email">Description</mfDefaultSorter>
							</th>
							
							
						</tr>
						 <tr>
							<th colspan="5">
								Filter by name:
								<input class="form-control" [(ngModel)]="filterQuery"/>
							</th>
						</tr>

						</thead>
						<tbody>
						<tr *ngFor="let template of mf.data; let i = index;">

						    <td class="text-center">
													<a routerLink="/checklist/{{template._id}}/fill"><span class="glyphicon glyphicon-pencil" aria-hidden=true></span></a>
													<a (click)="deleteTemplate(template._id,i)"><span class="glyphicon glyphicon-trash" aria-hidden=true></span></a>
							</td>
							<td class="text-center">{{template.templateName}}</td>
							<td class="text-center" >{{template.checklistCurrentSection}}/{{ template.sections.length }} </td>
							<td class="text-center" >{{template.ownerId}}</td>
							<td class="text-center" >{{template.createdAt | date:'MM/dd/yyyy'}} </td>
							<td class="text-center" >{{template.updatedAt | date:'MM/dd/yyyy'}}</td>
							<td class="text-center" >{{template.refTemplateName}}- Version{{template.version}} </td>
							<td class="text-center" >{{template.templateDesc}} </td>
							
						<tr >
							
						</tbody>
						<tfoot>
						<tr>
							<td colspan="5">
								<mfBootstrapPaginator [rowsOnPageSet]="[10,20,30]"></mfBootstrapPaginator>
							</td>
						</tr>
						</tfoot>
					</table>
				</div>
				
		<!-- CLOSED CHECKLISTS -->
				  <div class="tab-content" *ngIf ="isClosedChecklists">
		<!--	<table class="table table-striped" [mfData]="malApplications">	-->
            <table class="table table-striped" [mfData]="showArray | dataFilter : filterQuery" #mf="mfDataTable"
                   [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
				
						<thead>
						
						
						<tr>
							<th style="width: 5%" class="text-center">
								<mfDefaultSorter by="id"></mfDefaultSorter>
							</th>
							<th style="width: 20%" class="text-center">
								<mfDefaultSorter by="id">Checklist Name</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Completed</mfDefaultSorter>
							</th>
							<th style="width: 5%" class="text-center">
								<mfDefaultSorter by="email">OwnerId</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Started Date</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Modified Date</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Template Version</mfDefaultSorter>
							</th>
							<th style="width: 30%" class="text-center">
								<mfDefaultSorter by="email">Description</mfDefaultSorter>
							</th>
							
							
						</tr>
						 <tr>
							<th colspan="5">
								Filter by name:
								<input class="form-control" [(ngModel)]="filterQuery"/>
							</th>
						</tr>

						</thead>
						<tbody>
						<tr *ngFor="let template of showArray; let i = index;">

							<a routerLink="/checklist/{{template._id}}/fill/view"><span class="glyphicon glyphicon-eye-open" aria-hidden=true></span></a>
							<a *ngIf="currentRoleAdmin" (click)="deleteTemplate(template._id,i)"><span class="glyphicon glyphicon-trash" aria-hidden=true></span></a>
							<td class="text-center">{{template.templateName}}</td>
							<td class="text-center" >{{template.checklistCurrentSection}}/{{ template.sections.length }} </td>
							<td class="text-center" >{{template.ownerIds}}</td>
							<td class="text-center" >{{template.createdAt | date:'MM/dd/yyyy'}} </td>
							<td class="text-center" >{{template.updatedAt | date:'MM/dd/yyyy'}}</td>
							<td class="text-center" >{{template.refTemplateName}}- Version{{template.version}} </td>
							<td class="text-center" >{{template.templateDesc}} </td>
							
						<tr >
							
						</tbody>
						<tfoot>
						<tr>
							<td colspan="5">
								<mfBootstrapPaginator [rowsOnPageSet]="[10,20,30]"></mfBootstrapPaginator>
							</td>
						</tr>
						</tfoot>
					</table>
				</div>
				
				<!-- CLOSED CHECKLISTS -->
				<!-- TEMPLATES  -->
				  <div class="tab-content" *ngIf ="isAvailableTemplate">
			<table class="table table-striped" [mfData]="malApplications" > 						
						<thead>
						
						
						<tr>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email"></mfDefaultSorter>
							</th>
							<th style="width: 20%" class="text-center">
								<mfDefaultSorter by="id">Checklist Name</mfDefaultSorter>
							</th>
							
							<th style="width: 5%" class="text-center">
								<mfDefaultSorter by="email">OwnerId</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Created Date</mfDefaultSorter>
							</th>
							<th style="width: 10%" class="text-center">
								<mfDefaultSorter by="email">Modified Date</mfDefaultSorter>
							</th>
							<th style="width: 25%" class="text-center">
								<mfDefaultSorter by="email">Template Version</mfDefaultSorter>
							</th>
							<th style="width: 30%" class="text-center">
								<mfDefaultSorter by="email">Description</mfDefaultSorter>
							</th>
							
							
						</tr>
						 <tr>
							<th colspan="5">
								Filter by name:
								<input class="form-control" [(ngModel)]="filterQuery"/>
							</th>
						</tr>

						</thead>
						<tbody>
						<tr *ngFor="let template of showArray;  let i=index;">

						    <td class="text-center">
													<a routerLink="/template/{{template._id}}/view"><span class="glyphicon glyphicon-eye-open" aria-hidden=true></span></a>
													<a *ngIf="currentRoleAdmin" routerLink="/template/{{template._id}}/edit"><span class="glyphicon glyphicon-edit" aria-hidden=true></span></a>
													<a *ngIf="currentRoleAdmin" (click)="deleteTemplate(template._id,i)"><span class="glyphicon glyphicon-trash" aria-hidden=true></span></a>
													
							</td>
							<td class="text-center">{{template.templateName}}</td>
							<td class="text-center" >{{template.ownerId}}</td>
							<td class="text-center" >{{template.createdAt | date:'MM/dd/yyyy'}} </td>
							<td class="text-center" >{{template.updatedAt | date:'MM/dd/yyyy'}}</td>
							<td class="text-center" >{{template.refTemplateName}}- Version{{template.version}} </td>
							<td class="text-center" >{{template.templateDesc}} </td>
							
						<tr >
							
						</tbody>
						<tfoot>
						<tr>
							<td colspan="5">
								<mfBootstrapPaginator [rowsOnPageSet]="[10,20,30]"></mfBootstrapPaginator>
							</td>
						</tr>
						</tfoot>
					</table>
				</div>
		</div>

  </div>